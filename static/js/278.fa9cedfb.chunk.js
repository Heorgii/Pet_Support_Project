"use strict";(self.webpackChunkpet_support_project=self.webpackChunkpet_support_project||[]).push([[278],{19272:function(e,r,n){var t=n(8007),a=t.Ry().shape({email:t.Z_().matches(/^\s*\S+\s*$/,"Email must be without spaces").matches(/\S{7,}/,"Email too short (min 7 symbols)").matches(/^(?=.{7,63}$)([^\u0430-\u044f\u0410-\u042f]+@([a-zA-Z]+\.)+[a-zA-z]{2,3})$/g,"Invalid email").matches(/^[^-]+((.*[^-]))*@([a-zA-Z]+\.)+[a-zA-z]{2,3}$/g,"Dashes should only be inside email").required("Require field"),password:t.Z_().min(7,"Password too short (min 7)").max(32,"Password too long (max 32)").matches(/^\s*\S+\s*$/,"Password must be without spaces").required("Require field"),confirmPassword:t.Z_().oneOf([t.iH("password")],"Password must match").required("Require field"),name:t.Z_().matches(/\S{2,}/,"Name too short (min 2)").matches(/((\s*[a-zA-Z]+\s*){2,}|[a-zA-Z]{2,})/,"Name must includes only Latin alphabet").required("Require field"),phone:t.Z_().matches(/^\+380\d{9}$/,"Invalid number. valid +38(0xx) xxx-xx-xx").required("Require field"),location:t.Z_().matches(/(([A-Za-zsd&.-]){1,}, ([A-Za-zsd&,.-]){1,})/,"Invalid format. Example: Brovary, Kyiv ...").required("Require field")}),s=t.Ry().shape({email:t.Z_().matches(/^\s*\S+\s*$/,"Email must be without spaces").matches(/\S{7,}/,"Email too short (min 7 symbols)").matches(/^(?=.{7,63}$)([^\u0430-\u044f\u0410-\u042f]+@([a-zA-Z]+\.)+[a-zA-z]{2,3})$/g,"Invalid email").matches(/^[^-]+((.*[^-]))*@([a-zA-Z]+\.)+[a-zA-z]{2,3}$/g,"Dashes should only be inside email").required("Require"),password:t.Z_().min(7,"Password too short (min 7)").max(32,"Password too long (max 32)").matches(/^\s*\S+\s*$/,"Password must be without spaces").required("Require")}),u=t.Ry().shape({category:t.Z_().required("Categori is Required!"),title:t.Z_().min(2,"Too Short!").max(48,"Too Long!").required("Title is Required!"),name:t.Z_().min(2,"Too Short!").max(16,"Too Long!").required("Name is Required!"),birthday:t.hT().required("BirthDay is Required!"),breed:t.Z_().min(2,"Too Short!").max(34,"Too Long!").required("Breed is Required!")}),o=t.Ry().shape({sex:t.Z_().required("Sex is Required!"),location:t.Z_().matches(/(([A-Za-zsd&.-]){1,}, ([A-Za-zsd&,.-]){1,})/,"Invalid format. Example: Brovary, Kyiv ...").required("Location is Required!"),imageUrl:t.Z_().required("Image is Required!"),comments:t.Z_().min(8,"Too Short!").max(120,"Too Long!").required("Comments are Required!")}),i=o.concat(t.Ry().shape({price:t.Rx().moreThan("0").positive().integer().required("Price is Required!")})),c={registerSchema:a,schemasLogin:s,noticeSchemaFirst:u,noticeSchemaSecond:o,noticeSchemaSecondPrice:i,addPetsUser:t.Ry().shape({name:t.Z_().min(2,"Too Short!").max(16,"Too Long!").required("Name is Required!"),data:t.hT().required("BirthDay is Required!"),breed:t.Z_().min(2,"Too Short!").max(16,"Too Long!").required("Breed is Required!"),imageUrl:t.nK(),comments:t.Z_().min(8,"Too Short!").max(120,"Too Long!").required("Comments are Required!")})};r.Z=c},92877:function(e,r,n){n.d(r,{j:function(){return s},l:function(){return u}});var t=n(13742),a=n(8126),s=function(){return t.Loading.circle("Loading...",{backgroundColor:"transparent",svgSize:"160px",svgColor:"".concat(a.$.colors.orangeLight),messageFontSize:"20px"})},u=function(){return t.Loading.remove()}},98352:function(e,r,n){n.d(r,{NI:function(){return a},gV:function(){return s},wD:function(){return u}});var t=n(95264),a=function(e){return t.Notify.failure("".concat(e))},s=function(e){return t.Notify.info("".concat(e))},u=function(e){return t.Notify.success("".concat(e))}},8416:function(e,r,n){n.d(r,{Iw:function(){return t},bd:function(){return a},zU:function(){return s}});var t=function(e){"Escape"===e.code&&s()};function a(e,r){e.preventDefault(),document.querySelector("#popup-root").classList.remove("is-hide"),window.addEventListener("keydown",t)}function s(){document.querySelector("#popup-root").classList.add("is-hide"),window.removeEventListener("keydown",t)}},87517:function(e,r,n){n.d(r,{Z:function(){return R}});var t=n(15861),a=n(64687),s=n.n(a),u=n(96382),o=n(31243),i=function(e){e&&(o.Z.defaults.headers.common.Authorization="Bearer ".concat(e)),o.Z.defaults.headers.common.Authorization=""},c=function(){var e=(0,t.Z)(s().mark((function e(r){var n,t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.Z.post("/register",r);case 2:return n=e.sent,t=n.data,i(t.token),e.abrupt("return",t.user);case 6:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),d=function(){var e=(0,t.Z)(s().mark((function e(r){var n,t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.Z.post("/login",r);case 2:return n=e.sent,t=n.data,i(t.token),e.abrupt("return",t);case 6:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),p=function(){var e=(0,t.Z)(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i(null),e.next=3,o.Z.post("/auth/logout");case 3:return e.abrupt("return",!0);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),l=function(){var e=(0,t.Z)(s().mark((function e(r){var n,t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.Z.patch("/user",r);case 2:return n=e.sent,t=n.data,e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),f=function(){var e=(0,t.Z)(s().mark((function e(r){var n,t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.Z.get("/profile/".concat(r));case 2:return n=e.sent,t=n.data,e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),m=function(){var e=(0,t.Z)(s().mark((function e(){var r,n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.Z.get("/user");case 2:return r=e.sent,n=r.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),h=function(){var e=(0,t.Z)(s().mark((function e(r){var n,t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.Z.post("/pets",r);case 2:return n=e.sent,t=n.data,e.abrupt("return",t.pet);case 5:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),g=function(){var e=(0,t.Z)(s().mark((function e(r){var n,t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.Z.delete("/pets/".concat(r));case 2:return n=e.sent,t=n.data,e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),v=(0,u.hg)("auth/eraseErrors",(function(){})),Z=(0,u.hg)("auth/register",function(){var e=(0,t.Z)(s().mark((function e(r,n){var t,a,u;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c(r);case 3:if(!e.sent._id){e.next=9;break}return t=r.email,a=r.password,e.next=8,d({email:t,password:a});case 8:return e.abrupt("return",e.sent);case 9:e.next=18;break;case 11:return e.prev=11,e.t0=e.catch(0),u="",409===e.t0.response.status&&(u="User with the same email already registrated"),401===e.t0.response.status&&(u="Data is wrong"),500===e.t0.response.status&&(u="BackEnd dead, please try later"),e.abrupt("return",n.rejectWithValue(u));case 18:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(r,n){return e.apply(this,arguments)}}()),y=(0,u.hg)("auth/login",function(){var e=(0,t.Z)(s().mark((function e(r,n){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d(r);case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",n.rejectWithValue("Wrong password or email"));case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(r,n){return e.apply(this,arguments)}}()),w=(0,u.hg)("/update",function(){var e=(0,t.Z)(s().mark((function e(r,n){var t,a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l(r);case 3:return t=e.sent,e.abrupt("return",t);case 7:return e.prev=7,e.t0=e.catch(0),a=e.t0.response,e.abrupt("return",n.rejectWithValue(a.data.message));case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(r,n){return e.apply(this,arguments)}}()),x=(0,u.hg)("/auth/logout",function(){var e=(0,t.Z)(s().mark((function e(r,n){var t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p();case 3:return e.abrupt("return",!0);case 6:return e.prev=6,e.t0=e.catch(0),t=e.t0.response,e.abrupt("return",n.rejectWithValue(t.data.message));case 10:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(r,n){return e.apply(this,arguments)}}()),b=(0,u.hg)("/profile",function(){var e=(0,t.Z)(s().mark((function e(r,n){var t,a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f(r);case 3:return t=e.sent,e.abrupt("return",t);case 7:return e.prev=7,e.t0=e.catch(0),a=e.t0.response,e.abrupt("return",n.rejectWithValue(a.data.message));case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(r,n){return e.apply(this,arguments)}}()),L=(0,u.hg)("/getUsers",function(){var e=(0,t.Z)(s().mark((function e(r,n){var t,a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m();case 3:return t=e.sent,e.abrupt("return",t);case 7:return e.prev=7,e.t0=e.catch(0),a=e.t0.response,e.abrupt("return",n.rejectWithValue(a.data.message));case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(r,n){return e.apply(this,arguments)}}()),q=(0,u.hg)("/addPet",function(){var e=(0,t.Z)(s().mark((function e(r,n){var t,a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h(r);case 3:return t=e.sent,e.abrupt("return",t);case 7:return e.prev=7,e.t0=e.catch(0),a=e.t0.response,e.abrupt("return",n.rejectWithValue(a.data.message));case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(r,n){return e.apply(this,arguments)}}()),k=(0,u.hg)("/pets",function(){var e=(0,t.Z)(s().mark((function e(r,n){var t,a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g(r);case 3:return t=e.sent,e.abrupt("return",{result:t,_id:r});case 7:return e.prev=7,e.t0=e.catch(0),a=e.t0.response,e.abrupt("return",n.rejectWithValue(a.data.message));case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(r,n){return e.apply(this,arguments)}}()),R={register:Z,login:y,logout:x,update:w,eraseErrors:v,profile:b,getUsers:L,addPet:q,removePet:k}},89967:function(e,r,n){n.d(r,{r:function(){return t.Z}});var t=n(87517),a=n(93433),s=n(96382),u={user:{_id:null,userName:null,email:null,location:null,birthday:null,phone:null,avatarUrl:null,favorites:null},pets:[],users:[],profile:null,token:null,isLoading:!1,isLoggedIn:!1,isError:null};(0,s.oM)({name:"auth",initialState:u,extraReducers:function(e){e.addCase(t.Z.register.pending,(function(e){e.isLoading=!0,e.isError=null})).addCase(t.Z.register.fulfilled,(function(e,r){var n=r.payload;e.isLoading=!1,e.user=n.user,e.token=n.token,e.isLoggedIn=!0,e.isError=null})).addCase(t.Z.register.rejected,(function(e,r){var n=r.payload;e.isLoading=!1,e.isError=n})).addCase(t.Z.login.pending,(function(e){e.isLoading=!0,e.isError=null})).addCase(t.Z.login.fulfilled,(function(e,r){var n=r.payload;e.isLoading=!1,e.isLoggedIn=!0,e.user=n.user,e.pets=n.pets,e.token=n.token,e.isError=null,console.log(e.pets)})).addCase(t.Z.login.rejected,(function(e,r){var n=r.payload;e.user=u.user,e.isLoggedIn=!1,e.token=null,e.isError=n})).addCase(t.Z.update.pending,(function(e){e.isLoading=!0,e.isError=null})).addCase(t.Z.update.fulfilled,(function(e,r){var n=r.payload;e.isLoading=!1,e.user[Object.keys(n.user)[0]]=Object.values(n.user)[0],e.isError=null})).addCase(t.Z.update.rejected,(function(e,r){var n=r.payload;e.isLoading=!1,e.isError=n})).addCase(t.Z.logout.fulfilled,(function(e,r){e.user=u.user,e.pets=u.pets,e.isLoggedIn=u.isLoggedIn,e.isRefreshing=u.isRefreshing,e.token=u.token,e.isError=null})).addCase(t.Z.eraseErrors.fulfilled,(function(e,r){e.isError=null})).addCase(t.Z.profile.pending,(function(e){e.isLoading=!0,e.isError=null})).addCase(t.Z.profile.fulfilled,(function(e,r){var n=r.payload;e.profile=n,e.isLoading=!1,e.isError=null})).addCase(t.Z.profile.rejected,(function(e,r){var n=r.payload;e.isLoading=!1,e.isError=n})).addCase(t.Z.getUsers.pending,(function(e){e.isLoading=!0,e.isError=null})).addCase(t.Z.getUsers.fulfilled,(function(e,r){var n=r.payload;e.users=n,e.isLoading=!1,e.isError=null})).addCase(t.Z.getUsers.rejected,(function(e,r){var n=r.payload;e.isLoading=!1,e.isError=n})).addCase(t.Z.addPet.pending,(function(e){e.isLoading=!0,e.isError=null})).addCase(t.Z.addPet.fulfilled,(function(e,r){var n=r.payload;e.pets=[n].concat((0,a.Z)(e.pets)),e.isLoading=!1,e.isError=null})).addCase(t.Z.addPet.rejected,(function(e,r){var n=r.payload;e.isLoading=!1,e.isError=n})).addCase(t.Z.removePet.pending,(function(e){e.isLoading=!0,e.isError=null})).addCase(t.Z.removePet.fulfilled,(function(e,r){var n=r.payload;e.pets=e.pets.filter((function(e){return e._id!==n._id})),e.isLoading=!1,e.isError=null})).addCase(t.Z.removePet.rejected,(function(e,r){var n=r.payload;e.isLoading=!1,e.isError=n}))}}).reducer},99297:function(e,r,n){n.d(r,{V:function(){return u},Y:function(){return s}});var t=n(1413),a=n(71678),s=function(e){return function(r,n){r(a.RE.actions.addModal((0,t.Z)({},e)))}},u=function(){return function(e,r){e(a.RE.actions.cleanModal())}}},12642:function(e,r,n){n.d(r,{L:function(){return t}});var t=function(e){return e.modal}},18917:function(e,r,n){n.d(r,{N$:function(){return l},dX:function(){return m},rQ:function(){return d}});var t=n(15861),a=n(64687),s=n.n(a),u=n(31243),o=n(52007),i=n.n(o),c=window.global.BASE_URL;function d(e){return p.apply(this,arguments)}function p(){return(p=(0,t.Z)(s().mark((function e(r){var n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.Z.create({baseURL:"".concat(c).concat(r),headers:{"Content-Type":"application/json"}}),e.next=3,n.get();case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function l(e,r,n){return f.apply(this,arguments)}function f(){return(f=(0,t.Z)(s().mark((function e(r,n,t){var a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=new FormData).append("birthday",n.birthday),a.append("breed",n.breed),a.append("comments",n.comments),a.append("imageURL",t),a.append("location",n.location),a.append("name",n.name),""!==n.price&&a.append("price",n.price),a.append("sex",n.sex),a.append("title",n.title),e.abrupt("return",u.Z.post("".concat(c).concat(r),a,{headers:{"Content-Type":"multipart/form-data"}}));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(e,r,n){return h.apply(this,arguments)}function h(){return(h=(0,t.Z)(s().mark((function e(r,n,t){var a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new FormData,console.log(n),a.append("name",n.values.name),a.append("date",n.values.data),a.append("breed",n.values.breed),a.append("comments",n.values.comments),a.append("imageURL",t),e.abrupt("return",u.Z.post("".concat(c).concat(r),a,{headers:{"Content-Type":"multipart/form-data"}}));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}d.propTypes={pathParams:i().string.isRequired}},48169:function(e,r,n){n.d(r,{Q:function(){return a}});var t=n(98352);function a(e){var r=document.querySelector(".file");if(r.files[0]&&r.files[0].size>=2048e3)return r.value="",e.target.style="",void(0,t.gV)("File size must be less than 2Mb!");if(r.files[0]&&!["jpeg","png","webp","gif","jpg"].includes(r.files[0].type.split("/")[1]))return r.value="",e.target.style="",void(0,t.gV)("File type must be only image!");var n=new FileReader;e.target.style="",n.onload=function(){e.target.style="background-image: url(".concat(n.result,"); background-size: contain; background-position: center; background-repeat: no-repeat;")},r.files[0]&&n.readAsDataURL(r.files[0])}}}]);
//# sourceMappingURL=278.fa9cedfb.chunk.js.map